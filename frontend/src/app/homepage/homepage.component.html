<!-- Conditional Navbar Rendering -->
<app-admin-navbar></app-admin-navbar>
<!-- <app-worker-navbar></app-worker-navbar> -->

<!-- Main Container -->
<div class="flex flex-col items-center justify-start min-h-screen bg-primary mt-16 px-4">
    <!-- Title Section -->
    <div class="w-full flex justify-between items-center border-b border-lightPurple pb-6 mb-6 max-w-4xl">
        <h1 class="text-lightPurple text-4xl font-extrabold">Announcements</h1>
        <button
            class="bg-lightPurple hover:bg-purple text-white px-6 py-2 rounded-lg shadow-md"
            (click)="showNewMenu()"
        >
            New
        </button>
    </div>

    <!-- Announcement Cards -->
    <div *ngFor="let announcement of announcements" class="w-full max-w-4xl mb-8">
        <app-announcement-card [announcement]="announcement"></app-announcement-card>
    </div>
</div>

<!-- New Announcement Form -->
<div
    class="fixed top-0 left-0 w-full h-full bg-black bg-opacity-50 flex justify-center items-center hidden"
    id="newAnnouncementForm"
>
    <form class="bg-cardBackground p-6 rounded-lg shadow-lg w-96" (ngSubmit)="submitAnnouncement()">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-lightPurple text-lg font-semibold">Create Announcement</h2>
            <button type="button" class="text-lightPurple text-xl" (click)="hideNewMenu()">âœ–</button>
        </div>
        <label for="title" class="block text-cardText mb-2">Title</label>
        <input
            type="text"
            id="title"
            [(ngModel)]="newAnnouncement.title"
            name="title"
            class="w-full p-2 rounded border border-lightPurple mb-4 text-cardText bg-primary"
        />
        <label for="message" class="block text-cardText mb-2">Message</label>
        <textarea
            id="message"
            [(ngModel)]="newAnnouncement.message"
            name="message"
            class="w-full p-2 rounded border border-lightPurple mb-4 text-cardText bg-primary"
        ></textarea>
        <button
            type="submit"
            class="w-full bg-lightPurple hover:bg-purple text-white py-2 rounded-lg"
        >
            Submit
        </button>
    </form>
</div>
